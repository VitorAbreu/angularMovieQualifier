import{a as Ct,b as _t,c as bt,d as St,e as Dt,f as wt,h as Rt,i as Nt}from"./chunk-HAKJTGPP.js";import{a as gt}from"./chunk-RKWMC37X.js";import{a as st,b as lt,c as ct}from"./chunk-PLUFTQLO.js";import{a as ft,b as ht,c as Mt}from"./chunk-RFMX36NG.js";import"./chunk-AR3WG4EW.js";import{c as vt,d as yt,e as zt}from"./chunk-XL7JJ4BZ.js";import{a as dt,c as pt,j as mt,o as N,q as ut,u as C}from"./chunk-JJBMWG6C.js";import{c as Ye,d as Ge,g as We,h as Ue,i as Xe,j as qe,k as Je,r as k}from"./chunk-C2PEURRA.js";import{a as Qe,b as Ze}from"./chunk-A6UNAHDC.js";import{B as T,aa as et,ca as tt,da as it,ea as nt,fa as ot,g as Te,ga as rt,ha as V,i as Ve,j as Fe,l as $e,o as I,oa as at,p as je,q as Be,r as Le,s as He,t as E,u as Ke}from"./chunk-B3PSGKLK.js";import{$b as ee,Aa as Me,Cc as Ee,E as P,Ec as ke,G as y,Ga as Ce,H as z,Hb as Pe,I as ce,Ib as Ae,Ja as _e,Lb as xe,Mb as Ie,Nb as m,O as de,Oa as be,Ob as s,Pb as l,Qb as M,Qc as R,Ub as x,Z as pe,Zb as D,aa as X,ca as me,cb as p,d as G,fa as q,fb as Se,ga as J,gb as De,gc as w,ia as ue,ib as we,jb as Re,k as re,ka as c,kb as Ne,l as W,la as fe,lc as h,ma as he,ob as S,p as ae,pb as Q,q as se,qa as _,qb as A,r as U,ra as b,ta as ge,ua as ve,ub as Z,va as ye,vc as te,wb as Oe,wc as g,x as f,xb as K,y as le,ya as ze}from"./chunk-WE3Z55MB.js";function Ot(){return i=>{let{value:t}=i;if(!t)return null;let e=t.length>=3,n=/^[a-zA-Z0-9]*$/.test(t);return e&&n?null:{inputMovie:!0}}}var F=class i{constructor(){}validate(t){return Ot()(t)}static \u0275fac=function(e){return new(e||i)};static \u0275dir=A({type:i,selectors:[["","inputMovieDirective",""]],features:[te([{provide:Ge,useExisting:i,multi:!0}])]})};var jt=()=>["16","16"],Bt=(i,t)=>t.id;function Lt(i,t){i&1&&(s(0,"button",12),M(1,"nz-icon",13),l())}function Ht(i,t){i&1&&(s(0,"p",7),h(1,"The input should have more than 3 characters and only alphanumeric"),l())}function Yt(i,t){if(i&1){let e=x();s(0,"div",9)(1,"app-movie-card",14),D("click",function(){let o=_(e).$implicit,r=ee();return b(r.redirectToMovieDetails(o.id))}),l()()}if(i&2){let e=t.$implicit;p(),m("title",e.title)("rating",e.vote_average)("poster_path",e.poster_path)("id",e.id)}}var j=class i{#e=c(gt);#t=c(je);listMovies=[];limitOfData=100;totalOfResults=0;pageIndex=1;ngOnInit(){this.getMovies(),this.#e.createGuestSession().subscribe()}searchMovie(t,e=1){if(this.pageIndex=e,t.valid){let n=t.value.movie;n?this.#e.searchMovie(n,e).pipe(X(o=>{this.totalOfResults=o.total_results>this.limitOfData?this.limitOfData:o.total_results}),f(o=>o.results)).subscribe({next:o=>{this.listMovies=o}}):this.getMovies(e)}}getMovies(t=1){this.#e.getMovies(t).pipe(X(e=>{this.totalOfResults=e.total_results>this.limitOfData?this.limitOfData:e.total_results}),f(e=>e.results)).subscribe({next:e=>{this.listMovies=e}})}redirectToMovieDetails(t){this.#t.navigate(["details",t])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-search-page"]],decls:16,vars:9,consts:[["form","ngForm"],["movie","ngModel"],["suffixIconButton",""],[3,"ngSubmit"],["for","movieInput"],["nzSearch","",3,"nzAddOnAfter"],["id","movieInput","nz-input","","placeholder","Search for your favorite movie","name","movie","type","text","inputMovieDirective","",3,"ngModel","nzStatus"],[1,"error"],["nz-row","","nzJustify","center","nzGap","small",1,"container",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","6","nzFlex",""],["nz-flex","","nzJustify","center",1,"pagination"],[3,"nzPageIndexChange","nzPageIndex","nzPageSize","nzTotal"],["nz-button","","type","submit","nzType","primary","nzSearch",""],["nzType","search"],["icon","heart",3,"click","title","rating","poster_path","id"]],template:function(e,n){if(e&1){let o=x();s(0,"form",3,0),D("ngSubmit",function(){_(o);let a=w(1);return b(n.searchMovie(a))}),s(2,"label",4),h(3," Search for a movie: "),s(4,"nz-input-group",5),M(5,"input",6,1),l(),Z(7,Lt,2,0,"ng-template",null,2,Ee),Pe(9,Ht,2,0,"p",7),l()(),s(10,"div",8),xe(11,Yt,2,4,"div",9,Bt),l(),s(13,"div",10)(14,"nz-pagination",11),D("nzPageIndexChange",function(a){_(o);let u=w(1);return b(n.searchMovie(u,a))}),l()(),M(15,"router-outlet")}if(e&2){let o=w(6),r=w(8);p(4),m("nzAddOnAfter",r),p(),m("ngModel",o.value)("nzStatus",o.errors!=null&&o.errors.inputMovie?"error":""),p(4),Ae(o.errors!=null&&o.errors.inputMovie?9:-1),p(),m("nzGutter",g(8,jt)),p(),Ie(n.listMovies),p(3),m("nzPageIndex",n.pageIndex)("nzPageSize",20)("nzTotal",n.totalOfResults)}},dependencies:[E,I,ct,st,lt,F,k,Je,Ye,We,Ue,qe,Xe,ht,ft,Ze,Qe,zt,yt,vt,Mt,V,ot],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:0}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{flex-grow:1;padding:24px;overflow-y:scroll}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:24px}"]})};var Pt=[{path:"",component:j,children:[{path:"details/:id",loadComponent:()=>import("./chunk-F6NYDE5H.js").then(i=>i.MovieDetailsPage)},{path:"addCollection/:id",loadComponent:()=>import("./chunk-ZY6JLEGP.js").then(i=>i.AddCollection)}]},{path:"collections",loadComponent:()=>import("./chunk-QMQKGEWF.js").then(i=>i.MovieCollectionsPage)},{path:"create",loadComponent:()=>import("./chunk-ELHX47GS.js").then(i=>i.CreateCollectionPage)},{path:"show/:idCollection",loadComponent:()=>import("./chunk-HDWPXYF5.js").then(i=>i.ShowCollectionPage),children:[{path:"details/:id",loadComponent:()=>import("./chunk-F6NYDE5H.js").then(i=>i.MovieDetailsPage)}]},{path:"**",redirectTo:""}];function Gt(i){let t=i,e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(i.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:o===0&&e!==0&&e%1e6===0&&n===0||!(o>=0&&o<=5)?4:5}var At=["pt",[["AM","PM"],void 0,void 0],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",Gt];var Wt="@",Ut=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=c(ge);loadingSchedulerFn=c(Xt,{optional:!0});_engine;constructor(e,n,o,r,a){this.doc=e,this.delegate=n,this.zone=o,this.animationType=r,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-E2YP4RAL.js").then(o=>o),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(o=>{throw new me(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:r})=>{this._engine=o(this.animationType,this.doc);let a=new r(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,n){let o=this.delegate.createRenderer(e,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let r=new ie(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let u=a.createRenderer(e,n);r.use(u),this.scheduler??=this.injector.get(Me,null,{optional:!0}),this.scheduler?.notify(10)}).catch(a=>{r.use(o)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){we()};static \u0275prov=q({token:i,factory:i.\u0275fac})}return i})(),ie=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,o){this.delegate.insertBefore(t,e,n,o)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,o){this.delegate.setAttribute(t,e,n,o)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,o){this.delegate.setStyle(t,e,n,o)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,o){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,n,o)),this.delegate.listen(t,e,n,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(Wt)}},Xt=new ue("");function xt(i="animations"){return Ne("NgAsyncAnimations"),fe([{provide:Se,useFactory:(t,e,n)=>new Ut(t,e,n,i),deps:[ve,Ve,K]},{provide:be,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}Te(At);var qt=[nt,it],It={providers:[ze(),ke({eventCoalescing:!0}),He(Pt),dt(pt),he(k),xt(),$e(),rt(qt)]};var Qt="dropDown",Zt=[C.bottomLeft,C.bottomRight,C.topRight,C.topLeft],En=(()=>{var n;let i,t=[],e=[];return n=class{nzConfigService=c(et);renderer=c(De);viewContainerRef=c(Re);platform=c(Ke);destroyRef=c(ye);_nzModuleName=Qt;elementRef=c(_e);overlay=c(ut);portal;overlayRef=null;positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown");inputVisible$=new W(!1);nzTrigger$=new W("hover");overlayClose$=new re;nzDropdownMenu=null;nzTrigger="hover";nzMatchWidthElement=null;nzBackdrop=U(this,t,!1);nzClickHide=(U(this,e),!0);nzDisabled=!1;nzVisible=!1;nzOverlayClassName="";nzOverlayStyle={};nzPlacement="bottomLeft";nzVisibleChange=new Oe;constructor(){this.destroyRef.onDestroy(()=>{this.overlayRef?.dispose(),this.overlayRef=null})}setDropdownMenuValue(r,a){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(r,a)}ngAfterViewInit(){if(this.nzDropdownMenu){let r=this.elementRef.nativeElement,a=y(P(r,"mouseenter").pipe(f(()=>!0)),P(r,"mouseleave").pipe(f(()=>!1))),u=this.nzDropdownMenu.mouseState$,L=y(u,a),H=P(r,"click").pipe(f(()=>!this.nzVisible)),Y=this.nzTrigger$.pipe(pe(d=>d==="hover"?L:d==="click"?H:ae)),O=this.nzDropdownMenu.descendantMenuItemClick$.pipe(z(()=>this.nzClickHide),f(()=>!1)),Tt=y(Y,O,this.overlayClose$).pipe(z(()=>!this.nzDisabled)),Vt=y(this.inputVisible$,Tt);le([Vt,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(f(([d,ne])=>d||ne),ce(150),de(),z(()=>this.platform.isBrowser),T(this.destroyRef)).subscribe(d=>{let oe=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:r).getBoundingClientRect().width;if(this.nzVisible!==d&&this.nzVisibleChange.emit(d),this.nzVisible=d,d){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:oe,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),y(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(z(v=>!this.elementRef.nativeElement.contains(v.target))),this.overlayRef.keydownEvents().pipe(z(v=>v.keyCode===27&&!at(v)))).pipe(T(this.destroyRef)).subscribe(()=>{this.overlayClose$.next(!1)});else{let v=this.overlayRef.getConfig();v.minWidth=oe}this.positionStrategy.withPositions([C[this.nzPlacement],...Zt]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new mt(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(T(this.destroyRef)).subscribe(d=>{d.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnChanges(r){let{nzVisible:a,nzDisabled:u,nzOverlayClassName:L,nzOverlayStyle:H,nzTrigger:Y}=r;if(Y&&this.nzTrigger$.next(this.nzTrigger),a&&this.inputVisible$.next(this.nzVisible),u){let O=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(O,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(O,"disabled")}L&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),H&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}},(()=>{let r=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[tt()],se(null,null,i,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:a=>"nzBackdrop"in a,get:a=>a.nzBackdrop,set:(a,u)=>{a.nzBackdrop=u}},metadata:r},t,e),r&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})})(),G(n,"\u0275fac",function(a){return new(a||n)}),G(n,"\u0275dir",A({type:n,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",R],nzClickHide:[2,"nzClickHide","nzClickHide",R],nzDisabled:[2,"nzDisabled","nzDisabled",R],nzVisible:[2,"nzVisible","nzVisible",R],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[Ce]})),n})(),Kt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Q({type:i});static \u0275inj=J({})}return i})();var Et=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Q({type:i});static \u0275inj=J({imports:[Kt,bt]})}return i})(),kn=[new N({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new N({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new N({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new N({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})];var kt=()=>({exact:!0}),ei=()=>[""],ti=()=>["collections"],B=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-root"]],decls:13,vars:8,consts:[["nz-menu","","nzTheme","dark","nzMode","horizontal"],["nz-menu-item","","routerLinkActive","ant-menu-item-selected",3,"routerLinkActiveOptions","routerLink"]],template:function(e,n){e&1&&(s(0,"nz-layout")(1,"nz-header")(2,"h1"),h(3,"Movie Qualifier"),l()(),s(4,"ul",0)(5,"li",1),h(6,"Search Page"),l(),s(7,"li",1),h(8,"Collections Page"),l()(),s(9,"nz-content"),M(10,"router-outlet"),l(),s(11,"nz-footer"),h(12,"Made by Vitor Abreu"),l()()),e&2&&(p(5),m("routerLinkActiveOptions",g(4,kt))("routerLink",g(5,ei)),p(2),m("routerLinkActiveOptions",g(6,kt))("routerLink",g(7,ti)))},dependencies:[Nt,Rt,wt,St,Dt,Et,_t,Ct,V,E,I,Be,Le],styles:["[_nghost-%COMP%]{height:100dvh;display:flex}nz-header[_ngcontent-%COMP%], nz-footer[_ngcontent-%COMP%]{text-align:center;background:#7dbcea}nz-header[_ngcontent-%COMP%], nz-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], nz-footer[_ngcontent-%COMP%], nz-footer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}nz-content[_ngcontent-%COMP%]{padding:24px}"]})};Fe(B,It).catch(i=>console.error(i));
