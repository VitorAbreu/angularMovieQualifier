import{a as k}from"./chunk-RKWMC37X.js";import{c as j,d as Y,e as q}from"./chunk-4JGJEEFP.js";import"./chunk-XL7JJ4BZ.js";import{b as R,c as B,d as P}from"./chunk-S46NWW24.js";import"./chunk-JJBMWG6C.js";import{a as W}from"./chunk-MGSTEQRP.js";import"./chunk-OFUQICFS.js";import{n as I,p as O}from"./chunk-B3PSGKLK.js";import{$b as o,Cc as E,Hb as p,Ib as f,Kb as b,Lb as h,Mb as V,Nb as M,Ob as r,Pb as c,Rb as T,Sb as S,Ub as u,Zb as v,cb as a,gc as y,ka as d,lc as C,nc as x,ob as z,pc as A,qa as _,qc as w,ra as m,rc as D,sc as F,tc as L,ub as g,uc as N}from"./chunk-WE3Z55MB.js";function H(t,i){if(t&1){let e=u();r(0,"li",6),v("click",function(){let n=_(e).$implicit,s=o(4);return m(s.saveOnCollection(s.movieDetails,n.id))}),C(1),c()}if(t&2){let e=i.$implicit;a(),x(" ",e.name," ")}}function J(t,i){t&1&&(r(0,"li"),C(1,"You don't have any collections yet, try to create one"),c())}function K(t,i){if(t&1&&(r(0,"ul",4),h(1,H,2,1,"li",5,b,!1,J,2,0,"li"),c()),t&2){let e=o(3);a(),V(e.collectionStorage.getListItems())}}function Q(t,i){if(t&1&&(r(0,"p"),C(1),c()),t&2){o(2);let e=N(0);a(),x("",e," was added to selected collection")}}function U(t,i){if(t&1&&(T(0),p(1,K,4,1,"ul",4)(2,Q,2,1,"p"),S()),t&2){let e=o(2);a(),f(e.submitted?2:1)}}function X(t,i){}function Z(t,i){if(t&1){let e=u();F(0),r(1,"nz-modal",2),D("nzVisibleChange",function(n){_(e);let s=o();return w(s.isVisible,n)||(s.isVisible=n),m(n)}),v("nzOnCancel",function(){_(e);let n=o();return m(n.handleCancel())}),g(2,U,3,1,"ng-container",3)(3,X,0,0,"ng-template",null,0,E),c()}if(t&2){let e=y(4),l=o(),n=L(l.movieDetails.title);a(),A("nzVisible",l.isVisible),M("nzTitle","Add "+n+" to which collection?")("nzFooter",e)}}var G=class t{#t=d(I);#e=d(O);#i=d(k);collectionStorage=d(W);isVisible=!0;movieDetails;movie_id;submitted=!1;ngOnInit(){this.movie_id=Number(this.#t.snapshot.paramMap.get("id")),this.#i.getMovieDetails(this.movie_id).subscribe({next:i=>{this.movieDetails=i}})}handleCancel(){this.isVisible=!1,this.#e.navigate([""])}saveOnCollection(i,e){this.collectionStorage.addMovieToCollection(i,e),this.submitted=!0,setTimeout(()=>{this.#e.navigate([""])},1500)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-add-collection"]],decls:1,vars:1,consts:[["modalFooter",""],[3,"nzVisible","nzTitle","nzFooter"],[3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle","nzFooter"],[4,"nzModalContent"],["nz-list","","nzBordered","","nzSize","large"],["nz-list-item",""],["nz-list-item","",3,"click"]],template:function(e,l){e&1&&p(0,Z,5,4,"nz-modal",1),e&2&&f(l.movieDetails?0:-1)},dependencies:[P,B,R,q,j,Y],styles:["li[_ngcontent-%COMP%]{cursor:pointer}"]})};export{G as AddCollection};
